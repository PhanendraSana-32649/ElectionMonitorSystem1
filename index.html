<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#1e3d7b">
  <meta name="description" content="Election Monitoring System - Ensuring Transparency, Trust, and Fair Elections">
  <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkVsZWN0aW9uIE1vbml0b3JpbmcgU3lzdGVtIiwKICAic2hvcnRfbmFtZSI6ICJFbGVjdGlvbiBNb25pdG9yIiwKICAic3RhcnRfdXJsIjogIi8iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiNmNGY2ZjkiLAogICJ0aGVtZV9jb2xvciI6ICIjMWUzZDdiIiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxOTInIGhlaWdodD0nMTkyJyUzRSUzQ3JlY3Qgd2lkdGg9JzE5MicgaGVpZ2h0PScxOTInIGZpbGw9JyUyMzFlM2Q3YicvJTNFJTNDdGV4dCB4PSc1MCUyNScgeT0nNTAlMjUnIGZvbnQtc2l6ZT0nODAnIGZpbGw9J3doaXRlJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBkeT0nLjNlbSclM0VFJTNDL3RleHQlM0UlM0Mvc3ZnJTNFIiwKICAgICAgInNpemVzIjogIjE5MngxOTIiLAogICAgICAidHlwZSI6ICJpbWFnZS9zdmcreG1sIgogICAgfSwKICAgIHsKICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzUxMicgaGVpZ2h0PSc1MTInJTNFJTNDcmVjdCB3aWR0aD0nNTEyJyBoZWlnaHQ9JzUxMicgZmlsbD0nJTIzMWUzZDdiJy8lM0UlM0N0ZXh0IHg9JzUwJTI1JyB5PSc1MCUyNScgZm9udC1zaXplPScyMDAnIGZpbGw9J3doaXRlJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBkeT0nLjNlbSclM0VFJTNDL3RleHQlM0UlM0Mvc3ZnJTNFIiwKICAgICAgInNpemVzIjogIjUxMng1MTIiLAogICAgICAidHlwZSI6ICJpbWFnZS9zdmcreG1sIgogICAgfQogIF0KfQ==">
  <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='192' height='192'%3E%3Crect width='192' height='192' fill='%231e3d7b'/%3E%3Ctext x='50%25' y='50%25' font-size='80' fill='white' text-anchor='middle' dy='.3em'%3EE%3C/text%3E%3C/svg%3E">
  <title>Election Monitoring System</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary: #1e3d7b;
      --primary-dark: #152d5e;
      --secondary: #2c4a9a;
      --success: #28a745;
      --background: #f4f6f9;
      --card-bg: white;
      --text-dark: #333;
      --text-light: #666;
      --border: #e0e0e0;
      --shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: var(--background);
      color: var(--text-dark);
      line-height: 1.6;
      padding-bottom: 70px;
    }

    header {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 1.5rem 1rem;
      text-align: center;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    header h1 {
      font-size: clamp(1.3rem, 4vw, 2rem);
      margin-bottom: 0.3rem;
      font-weight: 600;
    }

    header p {
      font-size: clamp(0.85rem, 2vw, 1rem);
      opacity: 0.95;
    }

    /* Mobile Bottom Navigation */
    nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: white;
      display: flex;
      justify-content: space-around;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
      z-index: 99;
      padding: 0.5rem 0;
    }

    nav a {
      flex: 1;
      text-align: center;
      padding: 0.5rem;
      text-decoration: none;
      color: var(--text-light);
      font-size: 0.7rem;
      transition: all 0.3s;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
    }

    nav a:before {
      content: attr(data-icon);
      font-size: 1.3rem;
      display: block;
    }

    nav a.active {
      color: var(--primary);
      font-weight: 600;
    }

    /* Desktop Navigation */
    @media (min-width: 768px) {
      body {
        padding-bottom: 0;
      }

      nav {
        position: static;
        background: var(--secondary);
        justify-content: center;
        gap: 0;
        padding: 0;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      }

      nav a {
        flex: none;
        padding: 1rem 1.5rem;
        color: white;
        font-size: 1rem;
        flex-direction: row;
        gap: 0.5rem;
      }

      nav a:hover {
        background: var(--primary);
      }

      nav a.active {
        background: var(--primary);
        color: white;
      }
    }

    section {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem;
      display: none;
    }

    section.active {
      display: block;
      animation: fadeIn 0.3s;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .card {
      background: var(--card-bg);
      padding: 1.5rem;
      margin: 1rem 0;
      border-radius: 12px;
      box-shadow: var(--shadow);
    }

    @media (min-width: 768px) {
      .card {
        padding: 2rem;
      }
    }

    h2 {
      color: var(--primary);
      margin-bottom: 1rem;
      font-size: clamp(1.3rem, 3vw, 1.8rem);
      font-weight: 600;
    }

    label {
      font-weight: 600;
      display: block;
      margin-top: 1rem;
      color: var(--text-dark);
    }

    input, select, textarea {
      width: 100%;
      padding: 0.75rem;
      margin: 0.5rem 0 1rem;
      border: 2px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
      font-family: inherit;
      transition: border-color 0.3s;
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: var(--primary);
    }

    button {
      background: var(--primary);
      color: white;
      padding: 0.875rem 1.5rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.3s;
      width: 100%;
      margin-top: 0.5rem;
    }

    button:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(30, 61, 123, 0.3);
    }

    button:active {
      transform: translateY(0);
    }

    @media (min-width: 768px) {
      button {
        width: auto;
        min-width: 200px;
      }
    }

    .notification {
      position: fixed;
      top: 80px;
      right: 1rem;
      left: 1rem;
      background: var(--success);
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      display: none;
      z-index: 1000;
      animation: slideIn 0.3s;
    }

    @media (min-width: 768px) {
      .notification {
        left: auto;
        min-width: 300px;
      }
    }

    @keyframes slideIn {
      from { transform: translateY(-100px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .complaint-item {
      background: #f8f9fa;
      padding: 1rem;
      margin: 0.75rem 0;
      border-radius: 8px;
      border-left: 4px solid var(--primary);
    }

    .complaint-item strong {
      display: block;
      margin-bottom: 0.5rem;
      color: var(--primary);
      font-size: 0.9rem;
    }

    .complaint-item p {
      color: var(--text-dark);
      line-height: 1.5;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
      margin: 1rem 0;
    }

    .stat-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 1.5rem;
      border-radius: 12px;
      text-align: center;
    }

    .stat-card h3 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .stat-card p {
      opacity: 0.95;
    }

    ul {
      padding-left: 1.5rem;
      margin: 1rem 0;
    }

    li {
      margin: 0.5rem 0;
      line-height: 1.6;
    }

    .results-bar {
      margin: 1rem 0;
      background: #f0f0f0;
      border-radius: 8px;
      overflow: hidden;
    }

    .result-item {
      display: flex;
      align-items: center;
      padding: 1rem;
      border-bottom: 1px solid #e0e0e0;
    }

    .result-item:last-child {
      border-bottom: none;
    }

    .result-label {
      flex: 0 0 150px;
      font-weight: 600;
    }

    .result-bar {
      flex: 1;
      height: 30px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      border-radius: 5px;
      position: relative;
      margin: 0 1rem;
    }

    .result-percent {
      font-weight: 600;
      color: var(--primary);
    }

    .install-banner {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 1rem;
      text-align: center;
      display: none;
      position: fixed;
      top: 60px;
      left: 1rem;
      right: 1rem;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      z-index: 101;
    }

    @media (min-width: 768px) {
      .install-banner {
        left: 50%;
        transform: translateX(-50%);
        max-width: 500px;
      }
    }

    .install-banner button {
      background: white;
      color: var(--primary);
      margin-top: 0.5rem;
      width: auto;
      padding: 0.5rem 1.5rem;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <header>
    <h1>üó≥Ô∏è Election Monitoring System</h1>
    <p>Ensuring Transparency, Trust, and Fair Elections</p>
  </header>

  <div class="install-banner" id="installBanner">
    <p>üì± Install this app for quick access</p>
    <button onclick="installApp()">Install App</button>
    <button onclick="dismissInstall()" style="background: transparent; border: 1px solid white;">Later</button>
  </div>

  <nav>
    <a href="#" data-icon="üìä" onclick="showSection('dashboard')" class="active">Dashboard</a>
    <a href="#" data-icon="üìù" onclick="showSection('report')">Report</a>
    <a href="#" data-icon="üìà" onclick="showSection('results')">Results</a>
    <a href="#" data-icon="‚úì" onclick="showSection('verify')">Verify</a>
    <a href="#" data-icon="üîç" onclick="showSection('track')">Track</a>
  </nav>

  <!-- Dashboard -->
  <section id="dashboard" class="active">
    <div class="card">
      <h2>üìä System Dashboard</h2>
      
      <div class="stats-grid">
        <div class="stat-card">
          <h3 id="totalComplaints">0</h3>
          <p>Total Complaints</p>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
          <h3 id="pendingComplaints">0</h3>
          <p>Pending Review</p>
        </div>
      </div>

      <h3 style="margin-top: 2rem;">Problems We Address:</h3>
      <ul>
        <li>üö´ Fraud or malpractice detection</li>
        <li>üì∞ Misinformation and fake news tracking</li>
        <li>üîç Lack of transparency in processes</li>
        <li>üì¢ Difficulty reporting issues</li>
        <li>üë• Duplicate or fraudulent voters</li>
      </ul>

      <h3 style="margin-top: 2rem;">Our Solutions:</h3>
      <ul>
        <li>‚úÖ Centralized issue reporting & tracking</li>
        <li>üé´ Verified complaint ID system</li>
        <li>üìä Live results & transparency hub</li>
        <li>üîê Voter verification tool</li>
        <li>üì± Digital multi-channel reporting</li>
      </ul>
    </div>
  </section>

  <!-- Report Issue -->
  <section id="report">
    <div class="card">
      <h2>üìù Report an Election Issue</h2>
      <form id="issueForm">
        <label for="role">Your Role:</label>
        <select id="role" required>
          <option value="">Select your role</option>
          <option>Citizen/Voter</option>
          <option>Observer</option>
          <option>Election Official</option>
          <option>Media</option>
        </select>

        <label for="issueType">Issue Type:</label>
        <select id="issueType" required>
          <option value="">Select issue type</option>
          <option>Fraud or Malpractice</option>
          <option>Misinformation / Fake News</option>
          <option>Lack of Transparency</option>
          <option>Duplicate/Invalid Voters</option>
          <option>Intimidation or Coercion</option>
          <option>Technical Issues</option>
          <option>Other</option>
        </select>

        <label for="location">Location (Optional):</label>
        <input type="text" id="location" placeholder="Polling station or area">

        <label for="details">Detailed Description:</label>
        <textarea id="details" rows="4" required placeholder="Describe the issue in detail..."></textarea>

        <button type="submit">üöÄ Submit Complaint</button>
      </form>

      <div id="complaintsList" style="margin-top: 2rem;"></div>
    </div>
  </section>

  <!-- Transparency Hub -->
  <section id="results">
    <div class="card">
      <h2>üìà Transparency Hub ‚Äì Live Results</h2>
      <p style="color: var(--text-light); margin-bottom: 1.5rem;">Real-time election data (Demo)</p>
      
      <div class="results-bar">
        <div class="result-item">
          <div class="result-label">Candidate A</div>
          <div class="result-bar" style="width: 45%;"></div>
          <div class="result-percent">45%</div>
        </div>
        <div class="result-item">
          <div class="result-label">Candidate B</div>
          <div class="result-bar" style="width: 40%;"></div>
          <div class="result-percent">40%</div>
        </div>
        <div class="result-item">
          <div class="result-label">Candidate C</div>
          <div class="result-bar" style="width: 15%;"></div>
          <div class="result-percent">15%</div>
        </div>
      </div>

      <p style="margin-top: 2rem; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
        <strong>üîí Data Integrity:</strong> All results are cryptographically verified and auditable through blockchain technology.
      </p>
    </div>
  </section>

  <!-- Voter Verification -->
  <section id="verify">
    <div class="card">
      <h2>‚úì Voter Verification</h2>
      <p style="color: var(--text-light); margin-bottom: 1.5rem;">Verify voter registration and detect duplicates</p>
      
      <label for="voterId">Enter Voter ID:</label>
      <input type="text" id="voterId" placeholder="Enter your voter ID number">
      <button onclick="verifyVoter()">üîç Verify Voter</button>
      <div id="verifyMsg" style="margin-top: 1rem; padding: 1rem; border-radius: 8px;"></div>
    </div>
  </section>

  <!-- Track Complaints -->
  <section id="track">
    <div class="card">
      <h2>üîç Track Your Complaint</h2>
      <p style="color: var(--text-light); margin-bottom: 1.5rem;">Monitor the status of your submitted complaints</p>
      
      <label for="trackId">Enter Complaint ID:</label>
      <input type="text" id="trackId" placeholder="e.g., CMP1234">
      <button onclick="trackComplaint()">üîç Track Status</button>
      <div id="trackMsg" style="margin-top: 1rem;"></div>
      <div id="trackComplaints" style="margin-top: 1.5rem;"></div>
    </div>
  </section>

  <!-- Notification -->
  <div class="notification" id="notification">Complaint submitted successfully!</div>

  <script>
    // PWA Installation
    let deferredPrompt;
    
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      document.getElementById('installBanner').style.display = 'block';
    });

    function installApp() {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then((choiceResult) => {
          if (choiceResult.outcome === 'accepted') {
            console.log('App installed');
          }
          deferredPrompt = null;
          document.getElementById('installBanner').style.display = 'none';
        });
      }
    }

    function dismissInstall() {
      document.getElementById('installBanner').style.display = 'none';
    }

    // Service Worker Registration
    if ('serviceWorker' in navigator) {
      const sw = `
        self.addEventListener('install', (e) => {
          self.skipWaiting();
        });
        self.addEventListener('fetch', (e) => {
          e.respondWith(fetch(e.request));
        });
      `;
      const blob = new Blob([sw], { type: 'application/javascript' });
      const swUrl = URL.createObjectURL(blob);
      navigator.serviceWorker.register(swUrl);
    }

    // Section Navigation
    function showSection(id) {
      document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
      document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      event.target.classList.add('active');
      
      if (id === 'track') renderTrackComplaints();
      if (id === 'dashboard') updateDashboardStats();
      
      window.scrollTo(0, 0);
    }

    // Data Management
    const complaints = [];

    function updateDashboardStats() {
      document.getElementById('totalComplaints').textContent = complaints.length;
      document.getElementById('pendingComplaints').textContent = 
        complaints.filter(c => c.status === 'Pending').length;
    }

    function renderComplaints() {
      const list = document.getElementById('complaintsList');
      if (complaints.length === 0) {
        list.innerHTML = '<p style="color: var(--text-light); text-align: center; padding: 2rem;">No complaints submitted yet</p>';
        return;
      }
      
      list.innerHTML = '<h3 style="margin-top: 2rem;">Recent Complaints:</h3>';
      complaints.slice(-5).reverse().forEach(c => {
        const div = document.createElement('div');
        div.className = 'complaint-item';
        div.innerHTML = `
          <strong>üé´ ID: ${c.id} | üë§ ${c.role} | üìã ${c.issueType}</strong>
          ${c.location ? `<p style="font-size: 0.9rem; color: var(--text-light);">üìç ${c.location}</p>` : ''}
          <p>${c.details}</p>
        `;
        list.appendChild(div);
      });
    }

    function showNotification(message) {
      const notification = document.getElementById('notification');
      notification.innerText = message;
      notification.style.display = 'block';
      setTimeout(() => { notification.style.display = 'none'; }, 3000);
    }

    // Complaint Submission
    document.getElementById('issueForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const role = document.getElementById('role').value;
      const issueType = document.getElementById('issueType').value;
      const location = document.getElementById('location').value;
      const details = document.getElementById('details').value;
      const id = 'CMP' + Math.floor(Math.random() * 10000);

      const complaint = { id, role, issueType, location, details, status: 'Pending', timestamp: new Date().toLocaleString() };
      complaints.push(complaint);

      renderComplaints();
      renderTrackComplaints();
      updateDashboardStats();
      showNotification(`‚úÖ Complaint submitted! Your ID: ${id}`);
      this.reset();
    });

    // Track Complaint
    function trackComplaint() {
      const id = document.getElementById('trackId').value.trim();
      const complaint = complaints.find(c => c.id === id);
      const trackMsg = document.getElementById('trackMsg');
      
      if (complaint) {
        trackMsg.innerHTML = `
          <div style="background: #e8f5e9; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--success);">
            <strong>‚úÖ Status: ${complaint.status}</strong><br>
            üë§ Role: ${complaint.role}<br>
            üìã Type: ${complaint.issueType}<br>
            ${complaint.location ? `üìç Location: ${complaint.location}<br>` : ''}
            üïê Submitted: ${complaint.timestamp}
          </div>
        `;
      } else {
        trackMsg.innerHTML = `
          <div style="background: #ffebee; padding: 1rem; border-radius: 8px; border-left: 4px solid #f44336;">
            ‚ùå Complaint ID not found. Please check your ID and try again.
          </div>
        `;
      }
    }

    function renderTrackComplaints() {
      const trackList = document.getElementById('trackComplaints');
      if (complaints.length === 0) {
        trackList.innerHTML = '<p style="color: var(--text-light); text-align: center; padding: 2rem;">No complaints to track</p>';
        return;
      }
      
      trackList.innerHTML = '<h3 style="margin-top: 2rem;">All Complaints:</h3>';
      complaints.slice().reverse().forEach(c => {
        const div = document.createElement('div');
        div.className = 'complaint-item';
        div.innerHTML = `
          <strong>üé´ ID: ${c.id} | üë§ ${c.role} | üìã ${c.issueType} | ‚è±Ô∏è ${c.status}</strong>
          ${c.location ? `<p style="font-size: 0.9rem; color: var(--text-light);">üìç ${c.location}</p>` : ''}
          <p>${c.details}</p>
          <p style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.5rem;">üïê ${c.timestamp}</p>
        `;
        trackList.appendChild(div);
      });
    }

    // Voter Verification
    function verifyVoter() {
      const voterId = document.getElementById('voterId').value.trim();
      const verifyMsg = document.getElementById('verifyMsg');
      
      if (!voterId) {
        verifyMsg.innerHTML = `
          <div style="background: #fff3cd; padding: 1rem; border-radius: 8px; border-left: 4px solid #ffc107;">
            ‚ö†Ô∏è Please enter a valid voter ID.
          </div>
        `;
      } else if (voterId === '12345') {
        verifyMsg.innerHTML = `
          <div style="background: #ffebee; padding: 1rem; border-radius: 8px; border-left: 4px solid #f44336;">
            üö´ <strong>Duplicate voter detected!</strong> This ID has been flagged for review.
          </div>
        `;
      } else if (voterId.length < 5) {
        verifyMsg.innerHTML = `
          <div style="background: #ffebee; padding: 1rem; border-radius: 8px; border-left: 4px solid #f44336;">
            ‚ùå Invalid voter ID format. Please check and try again.
          </div>
        `;
      } else {
        verifyMsg.innerHTML = `
          <div style="background: #e8f5e9; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--success);">
